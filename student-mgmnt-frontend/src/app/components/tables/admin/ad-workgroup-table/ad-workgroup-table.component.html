<div *ngIf="this.tableService.isWorkgroupMembersListed == false">
    <table class="table table-xl table-striped table-dark mainTable">

        <thead>
            <tr class="align-middle">
                <th scope="col" (click)="this.tableService.sortBy('id')">ID</th>
                <th scope="col" (click)="this.tableService.sortBy('groupName')">Workgroup name</th>
                <th scope="col" (click)="this.tableService.sortBy('institution')">institution</th>
                <th style="max-width: 48px;">
                    <!--(click)="this.tableService.deleteWorkgroup(workgroup.id)" -->
                    <div id="createWorkgroup" type="button" data-bs-toggle="modal" data-bs-target=".mainModal"
                        (click)="openCreateWorkgroupModal()">
                        <img class="addWorkgroupImage" src="../../../../assets/addWorkgroup.png" alt="">
                    </div>
                </th>



            </tr>
        </thead>

        <tbody *ngIf="this.tableService.isUsersLoading == false">
            <ng-container *ngFor="let workgroup of this.tableService.allWorkgroup;">

                <tr class="align-middle" *ngIf="workgroup.isDeleted == true">
                    <td style="color: rgba(255, 58, 58, 0.539)">{{workgroup.id}}</td>
                    <td style="color: rgba(255, 58, 58, 0.539)">{{workgroup.groupName}}</td>
                    <td style="color: rgba(255, 58, 58, 0.539)">{{workgroup.institution}}</td>

                    <td>
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton2"
                                data-bs-toggle="dropdown" aria-expanded="false">
                            </button>
                            <div class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdownMenuButton2">


                                <div class="dropdownButton" type="button" data-bs-toggle="modal"
                                    data-bs-target=".mainModal" (click)="openAddUserToWorkgroupModal(workgroup)">
                                    <div class="basicSmallIconContainer">
                                        <img class="basicSmallIconContainerImage"
                                            src="../../../../assets/add-user-svgrepo-com.svg" alt="" srcset="">
                                        <div class="itemText">Add user to workgroup</div>
                                    </div>
                                </div>

                                <div class="dropdownButton" type="button" data-bs-toggle="modal"
                                    data-bs-target=".mainModal" (click)="openRemoverUserFromWorkgroupModal(workgroup)">
                                    <div class="basicSmallIconContainer">
                                        <img class="basicSmallIconContainerImage"
                                            src="../../../../assets/add-user-svgrepo-com.svg" alt="" srcset="">
                                        <div class="itemText">Remove user from workgroup</div>
                                    </div>
                                </div>

                                <div class="dropdownButton" type="button" data-bs-toggle="modal"
                                    data-bs-target=".mainModal" (click)="openCreateWorkgroupSceduleModal(workgroup)">
                                    <div class="basicSmallIconContainer">
                                        <img class="basicSmallIconContainerImage" src="../../../../assets/add.png"
                                            alt="" srcset="">
                                        <div class="itemText">Create a schedule</div>
                                    </div>
                                </div>

                                <div class="dropdownButton" type="button" data-bs-toggle="modal"
                                    data-bs-target=".mainModal"
                                    (click)="openWorkgroupInfoModal(workgroup); this.adminModal.getWorkgroupInfo(this.workgroupService.currentlySelectedWorkgroupId);">
                                    <div class="basicSmallIconContainer">
                                        <img class="basicSmallIconContainerImage" src="../../../../assets/edit.png"
                                            alt="" srcset="">
                                        <div class="itemText">Workgroup info</div>
                                    </div>
                                </div>
                                <div class="dropdownButton" type="button" data-bs-toggle="modal"
                                    data-bs-target=".mainModal" (click)="openWorkgroupDailyClasses(workgroup)">
                                    <div class="basicSmallIconContainer">
                                        <img class="basicSmallIconContainerImage"
                                            src="../../../../assets/presence-away-16-filled-svgrepo-com.svg" alt=""
                                            srcset="">
                                        <div class="itemText">Classes</div>
                                    </div>
                                </div>
                                <div class="dropdownButton" type="button"
                                    (click)="this.tableService.adminSwitchToWorkgroupMembers(workgroup)">
                                    <div class="basicSmallIconContainer">
                                        <img class="basicSmallIconContainerImage"
                                            src="../../../../assets/user-list-svgrepo-com.svg" alt="" srcset="">
                                        <div class="itemText">Members</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>

                </tr>

                <tr class="align-middle" *ngIf="workgroup.isDeleted == false">
                    <td>{{workgroup.id}}</td>
                    <td>{{workgroup.groupName}}</td>
                    <td>{{workgroup.institution}}</td>
                    <td>
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton2"
                                data-bs-toggle="dropdown" aria-expanded="false">
                            </button>
                            <div class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdownMenuButton2">


                                <div class="dropdownButton" type="button" data-bs-toggle="modal"
                                    data-bs-target=".mainModal" (click)="openAddUserToWorkgroupModal(workgroup)">
                                    <div class="basicSmallIconContainer">
                                        <img class="basicSmallIconContainerImage"
                                            src="../../../../assets/add-user-svgrepo-com.svg" alt="" srcset="">
                                        <div class="itemText">Add user to workgroup</div>
                                    </div>
                                </div>

                                <div class="dropdownButton" type="button" data-bs-toggle="modal"
                                    data-bs-target=".mainModal" (click)="openRemoverUserFromWorkgroupModal(workgroup)">
                                    <div class="basicSmallIconContainer">
                                        <img class="basicSmallIconContainerImage"
                                            src="../../../../assets/add-user-svgrepo-com.svg" alt="" srcset="">
                                        <div class="itemText">Remove user from workgroup</div>
                                    </div>
                                </div>

                                <div class="dropdownButton" type="button" data-bs-toggle="modal"
                                    data-bs-target=".mainModal" (click)="openCreateWorkgroupSceduleModal(workgroup)">
                                    <div class="basicSmallIconContainer">
                                        <img class="basicSmallIconContainerImage" src="../../../../assets/add.png"
                                            alt="" srcset="">
                                        <div class="itemText">Create a schedule</div>
                                    </div>
                                </div>

                                <div class="dropdownButton" type="button" data-bs-toggle="modal"
                                    data-bs-target=".mainModal"
                                    (click)="openWorkgroupInfoModal(workgroup); this.adminModal.getWorkgroupInfo(this.workgroupService.currentlySelectedWorkgroupId);">
                                    <div class="basicSmallIconContainer">
                                        <img class="basicSmallIconContainerImage" src="../../../../assets/edit.png"
                                            alt="" srcset="">
                                        <div class="itemText">Workgroup info</div>
                                    </div>
                                </div>
                                <div class="dropdownButton" type="button" data-bs-toggle="modal"
                                    data-bs-target=".mainModal" (click)="openWorkgroupDailyClasses(workgroup)">
                                    <div class="basicSmallIconContainer">
                                        <img class="basicSmallIconContainerImage"
                                            src="../../../../assets/presence-away-16-filled-svgrepo-com.svg" alt=""
                                            srcset="">
                                        <div class="itemText">Classes</div>
                                    </div>
                                </div>
                                <div class="dropdownButton" type="button"
                                    (click)="this.tableService.adminSwitchToWorkgroupMembers(workgroup)">
                                    <div class="basicSmallIconContainer">
                                        <img class="basicSmallIconContainerImage"
                                            src="../../../../assets/user-list-svgrepo-com.svg" alt="" srcset="">
                                        <div class="itemText">Members</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
            </ng-container>

        </tbody>

    </table>
</div>

<div *ngIf="this.tableService.isWorkgroupMembersListed == true">
    <app-ad-workgroup-members-table></app-ad-workgroup-members-table>
</div>







<div class="modal fade mainModal" tabindex="2" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" id="mainModalBox">
            <div class="modal-body">
                <app-admin-modal #adminModal [modalId]="this.modalService.currentlySelectedModal"></app-admin-modal>
            </div>
        </div>
    </div>
</div>